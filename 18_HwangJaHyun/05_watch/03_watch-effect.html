<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>watch effect</title>
  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
</head>
<body>
<pre>
    * watchEffect
      - 별도로 감시할 반응형 변수를 지정하지 않고
        모든 반응형 변수를 감지하는 함수
  </pre>

<div id="app">
  <h1>{{ num }}</h1>
  <button @click="num--">-1</button>
  <button @click="num = 0">초기화</button>
  <button @click="num++">+1</button>
</div>

<div id="example">
  <h1>{{ num }}</h1>
  <input type="text" v-model.number="inputNum">
  <button @click="num -= inputNum">-{{inputNum}}</button>
  <button @click="num = 0">초기화</button>
  <button @click="num += inputNum">+{{inputNum}}</button>
</div>

<script>
  const {createApp, ref, watchEffect} = Vue;

  createApp({
    setup(){
      const num = ref(0);

      watchEffect(() => {
        console.log("num.value : ", num.value);
      });

      return {num};
    }
  }).mount("#app");

  createApp({
    setup(){
      const inputNum = ref(1);
      const num = ref(0);

      watchEffect(() => {
        console.log("num.value : ", num.value);
      });

      return {num, inputNum};
    }

  }).mount('#example');
</script>

</body>
</html>